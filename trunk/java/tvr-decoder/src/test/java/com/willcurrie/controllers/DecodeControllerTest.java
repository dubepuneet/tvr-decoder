package com.willcurrie.controllers;

import org.junit.Test;
import org.springframework.ui.ModelMap;

public class DecodeControllerTest {

    private DecodeController decodeController = new DecodeController();

    @Test
    public void testAPDU() throws Exception {
        ModelMap modelMap = new ModelMap();
        String input = "00A4040007A000000004101000\n" +
                "6F1C8407A0000000041010A511500F505043204D434420303420207632309000\n" +
                "80A8000002830000\n" +
                "7716820259809410080101001001010118010200200102009000\n" +
                "00B2011400\n" +
                "7081B157115413330089600044D141220101234091725A0854133300896000445F200C455445432F504159504153535F24031412315F25030401015F280200565F3401018C219F02069F03069F090295055F2A029A039C019F37049F35019F45029F4C089F34038D0C910A8A0295059F37049F4C088E0C00000000000000005E031F039F0702FF009F080200029F0D0500000000009F0E0500000000009F0F0500000000009F420209789F4A0182DF4F031234569000\n" +
                "00B2011C00\n" +
                "7081FB9081F87AF7C3297510E795704B4B34BB1526EB953FE7BEE08DBF08DFBA056AA42FC726BC03373A319DDC6197E2F5B333401AE3E4BBFC5044D245BDDEBEA146994132D939D72E8E05CC958856DFCB33B26427812955B09F7A7A68AAAB6B8326AD2929082569DA040BD286F2F20A759E62683995D4B840655342C8088FA18806C2290992665A45EC16AC6FE4B0FA664FC644B7B485CD4612B2967B846A9482DB7D16E9F9A3A8295CE5D2B91718180F1E86E67E8E2275EB2116E651BD91AAC49D80D6E64DEB54977258465C09274DD7D232A98CD80C76458CEAAA2B0A414EE7A1B8899E6361B098307EBE5E87F31C41B0A32B248CF6DA9849810C49559000\n" +
                "00B2012400\n" +
                "703E8F01EF9F47030100019F32030100019F482A8F9498797B9DE111BF5EB97EF1820BA654E4867F09D6BB41BCB1E4FB3E9D287ABD67031918134731270792009000\n" +
                "00B2022400\n" +
                "80AE50002B000000001000000000000000000200000000000036120315000000AFDC22000000000000000000001F030000\n" +
                "7781B29F2701409F360200349F4B81906C9EC67BEF69A00E98F8ED96AAA2B945519E1348C78346B07D7650A9C2CC717611C69EDDBEFCAAF91FDEB09ABA2675CF430CCB0BAF0CAA8D8E18B9919790607847591970153565F65B33383C8757162669799D346B265B58421DD20E8109F5074AFB1B13B3A64D3470D8CC9E68342C8AAC238687B850EBEB260CB9F010AC4BD0F81C990026929974382077B103AD0C659F10120110904009248400000000000000000028FF9000";
        decodeController.decode("apdu-sequence", input.replaceAll("\n", " "), modelMap);
        Object decodedData = modelMap.get("decodedData");
        System.out.println(decodedData);
    }
}
